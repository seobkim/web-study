# 05 인증 프론트엔드 통합

## React-router-dom

사용자가 브라우저에 "어떤사이트.com"을 입력하면 수많은 과정을 거쳐 index.html이 렌더링된다. index.html은 어디서 온것일까? 바로 "어떤 사이트"의 서버에서 온 것이다.
"어떤 사이트.com"을 브라우저 주소창에 입력하는 것은 HTTP GET 요청을 보내는 것이고, 이 요청이 사이트에 렌더링할 html과 여타 다른 파일들을 리턴한 것이다.

마찬가지로, "어떤사이트.com/login"을 입력하면 이 요청은 GET 요청으로 "어떤사이트"의 서버에 전달된다. 
서버는 login 경로를 보고 login.html 페이지를 반환한다. 
브라우저는 받은 login.html을 렌더링 한다. 이 경우 웹 페이지가 새로 고침 또는 reloading 된다. 

#### 이런 라우팅을 서버-사이드 라우팅(Server-Side Routing)이라고 한다. 스탠더드 라우팅 방법으로 우리에게 가장 익숙한 라우팅 방법이기도 하다.

현재 프로젝트에 사용할 애플리케이션은 한 페이지에서만 동작하는 싱글 페이지 애플리케이션으로 사용하는 라우팅은 클라이언트-사이드 라우팅(Client-Side Routing)이다.
이름에서 짐작할 수 있듰이 클라이언트-사이드 라우팅은 서버로 어떤 요청도 보내지 않는다. 모든 라우팅은 클라이언트 코드, 즉 자바 스크립트가 해결한다.
우리의 경우 그 자바스크립트가 바로 리액트다.

우리 프로그램을 예로 들면 `http://localhost:3000`에 접속하면 프론트엔드가 서버가 리액트 애플리케이션을 리턴한다.
이플래케이션은 앞으로 브라우저에서 필요한 모든 리소스를 갖고있다. 리소스는 html, javaScript, css 파일 등을 의미한다.
다시말해 처음 `http://localhost:3000` 에 접속하면 이후에 필요한 모든 모든 페이지와 라우팅 로직 등 우리가 프론트엔드에 구현한 모든 로직이 리턴된다.
그런다음 `http://localhost:3000/login`을 브라우저 주소창에 입력하면 리액트 라우터가 이를 가로챈다 이 리액트 라우터의 로직은 URL을 파싱한 후 login 템플릿을 렌더링한다.
login 페이지를 가져오는 두번째 요청은 인터넷이 끊기더라도 실행된다.
모든것은 클라이언트 사이드, 즉 브라우저 내부에서 실행되고 서버로 아무것도 요청하지 않기 때문이다.

클라이언트-사이드 라우팅은 보편적으로 브라우저가 동작하는 방식과 다르다.
그래서 라이브러리가 필요하다. 어떤 자바스크립트 프레임워크를 사용하느냐에 따라, 개발자의 기호에 따라 라이브러리는 달라질 수 있다.


## 5.3.1 로컬스토리지 
    웹 스토리지를 이용하면 사용자의 브라우저에 데이터를 key-value 형태로 저장할 수 있다. 쿠키(cookie)와 비슷하다고 생각하면된다.
    웹스토리지에는 아래의 두 종류가 있다. 
    - 세션 스토리지(Session Storage) 
    - 로컬 스토리지(Local Storage) 
    
    세션 스토리지는 브라우저를 닫으면 사라지고, 로컬스토리지는 브라우저를 닫아도 사리지지 않는다.
    따라서 사용자 브라우저를 재시작할 때마다 로그인하게 하고 싶으면 세션 스토리지를, 브라우저를 재시작해도 로그인 상태를 유지하고 싶으면 로컬 스토리지를 사용하면된다.

로컬 스토리지는 도메인마다 따로 저장되서 다른 도메인의 자바스크립트는 다른 도메인의 로컬스토리지를 알지 못한다.
